#pragma once

// ESP Beacon Spam Web Interface - Auto-generated
// Built: 2026-02-02 23:33:50
// Edit files in web/ then run: python utils/build_web.py

const char admin_html[] PROGMEM = R"rawliteral(<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Beacon Spam Admin</title><style>:root{--bg:#0d1117;--card-bg:#161b22;--border:#30363d;--text:#c9d1d9;--text-secondary:#8b949e;--accent:#58a6ff;--btn-bg:#238636;--btn-hover:#2ea043;--danger:#f85149;--danger-hover:#da3633;--input-bg:#0d1117;--gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.light-mode{--bg:#f6f8fa;--card-bg:#ffffff;--border:#d0d7de;--text:#1f2328;--text-secondary:#656d76;--accent:#0969da;--btn-bg:#2da44e;--btn-hover:#218838;--danger:#cf222e;--danger-hover:#a40e26;--input-bg:#ffffff;--gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--text);padding:20px;max-width:650px;margin:0 auto;transition:background 0.3s,color 0.3s}h1{font-size:1.8rem;margin-bottom:15px;text-align:center;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.theme-toggle{text-align:center;margin-bottom:15px}.theme-toggle button{background:transparent;border:1px solid var(--border);color:var(--text);padding:8px 16px;border-radius:6px;cursor:pointer;font-size:0.9rem;transition:all 0.2s}.theme-toggle button:hover{background:var(--card-bg);transform:scale(1.02)}.status{background:var(--card-bg);border:1px solid var(--border);border-radius:12px;padding:15px;margin-bottom:15px;font-size:0.9rem;line-height:1.6}.card{background:var(--card-bg);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:15px;transition:border-color 0.2s}.card:hover{border-color:var(--accent)}.section-title{font-size:1.1rem;font-weight:600;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid var(--border)}label{display:block;margin:10px 0 5px;font-size:0.9rem;color:var(--text)}input[type="text"],input[type="password"],input[type="number"]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--input-bg);color:var(--text);font-size:0.95rem;transition:border-color 0.2s,box-shadow 0.2s}input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,0.15)}input[type="checkbox"]{margin-right:8px;vertical-align:middle;width:18px;height:18px;accent-color:var(--accent)}textarea{width:100%;height:150px;padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--input-bg);color:var(--text);font-family:"SF Mono","Fira Code",monospace;font-size:0.9rem;resize:vertical;transition:border-color 0.2s,box-shadow 0.2s}textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(88,166,255,0.15)}.hint{font-size:0.8rem;color:var(--text-secondary);margin-top:4px}.preset-grid{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:15px}.preset-btn{padding:8px 14px !important;font-size:0.85rem !important;background:var(--card-bg) !important;border:1px solid var(--border) !important;color:var(--text) !important;margin:0 !important}.preset-btn:hover{background:var(--accent) !important;border-color:var(--accent) !important;color:white !important;transform:translateY(-2px)}button{padding:10px 20px;background:var(--btn-bg);color:white;border:none;border-radius:8px;font-size:0.95rem;cursor:pointer;transition:all 0.2s;margin-top:10px;font-weight:500}button:hover{background:var(--btn-hover);transform:translateY(-1px);box-shadow:0 4px 12px rgba(35,134,54,0.3)}button:active{transform:translateY(0)}button.secondary{background:transparent;border:1px solid var(--border);color:var(--text)}button.secondary:hover{background:var(--card-bg);border-color:var(--accent);box-shadow:none}button.danger{background:var(--danger)}button.danger:hover{background:var(--danger-hover);box-shadow:0 4px 12px rgba(248,81,73,0.3)}footer{margin-top:30px;text-align:center;font-size:0.85rem;color:var(--text-secondary);padding:20px}footer a{color:var(--accent);text-decoration:none}footer a:hover{text-decoration:underline}table{width:100%;border-collapse:collapse}table th,table td{padding:10px 8px;text-align:left;border-bottom:1px solid var(--border)}table th{color:var(--text-secondary);font-weight:600;font-size:0.85rem}table tr:hover td{background:rgba(88,166,255,0.05)}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.card{animation:fadeIn 0.3s ease-out}</style></head><body><h1>‚ö° Beacon Spam</h1><div class="status"><strong>Status:</strong><span id="statusText">Running</span><br><strong>SSIDs:</strong><span id="ssidCount">...</span> | <strong>Clients:</strong><span id="clientCount">...</span> | <strong>RAM:</strong><span id="freeHeap">...</span> | <strong>Uptime:</strong><span id="uptime">...</span>s </div><div class="theme-toggle"><button onclick="toggleTheme()" id="themeBtn">üåô Dark Mode</button></div><div class="card"><div class="section-title">Connected Clients</div><div id="clientsList" style="font-family: monospace; font-size: 0.9rem;"></div><button type="button" onclick="refreshClients()" style="margin-top:10px;">üîÑ Refresh</button></div><div class="card"><div class="section-title">Access Point</div><label>AP Name (Network Name)</label><input type="text" id="apName" placeholder="Free WiFi"><div class="hint">The name users see when scanning for Wi-Fi networks</div><label><input type="checkbox" id="hideAP"> Hide AP from network lists</label><div class="hint">Experimental: May not work on all devices</div></div><div class="card"><div class="section-title">Portal Advertising</div><label>Headline</label><input type="text" id="advertisingHeadline" placeholder="Welcome to Free Wi-Fi!"><label>Description</label><input type="text" id="advertisingDescription" placeholder="Click below to get exclusive access!"><label>Button Text</label><input type="text" id="buttonText" placeholder="Connect Now"><label><input type="checkbox" id="disableButton"> Disable Button (Full Screen Mode)</label><div class="hint">Check this to hide the footer and make the iframe full screen.</div><label>Redirect URL</label><input type="text" id="redirectUrl" placeholder="https://github.com/John-Varghese-EH"><div class="hint">Where users go after clicking the button</div><label>Auto-Redirect Delay (seconds)</label><input type="number" id="autoRedirectDelay" value="0" min="0"><div class="hint">0 = disabled, users must click the button</div></div><div class="card"><div class="section-title">Spam Settings</div><label><input type="checkbox" id="wpa2"> Enable WPA2 (Encrypted Networks)</label><label><input type="checkbox" id="appendSpaces"> Append Spaces (Performance)</label><label><input type="checkbox" id="enableBLE"> Enable BLE Spam (ESP32 Only)</label><label><input type="checkbox" id="randomizeMAC"> Randomize MAC Addresses</label><div class="hint">Generate random source MAC for each beacon</div><label>Beacon Interval (ms)</label><input type="number" id="beaconInterval" value="100" min="10"><div class="hint">Lower = more spam, higher battery usage</div><label>WiFi Channel (1-14)</label><input type="number" id="wifiChannel" value="1" min="1" max="14"><div class="hint">Channel to broadcast beacons on</div><br><button type="button" onclick="saveConfig()">üíæ Save All Settings</button></div><div class="card"><div class="section-title">SSID List</div><p style="color: var(--text-secondary); margin: 0 0 10px 0; font-size: 0.9rem;">One SSID per line. Max 32 characters each.</p><p style="color: var(--accent); margin: 0 0 10px 0; font-size: 0.85rem;">üîó <strong>Deep Links:</strong> Add custom URL with <code>SSID|https://url.com</code></p><div class="preset-grid"><button type="button" class="preset-btn" onclick="generateRandomSSIDs()">üé≤ Random</button><button type="button" class="preset-btn" onclick="loadPreset('funny')">üòÇ Funny</button><button type="button" class="preset-btn" onclick="loadPreset('scary')">üëª Scary</button><button type="button" class="preset-btn" onclick="loadPreset('memes')">üê∏ Memes</button><button type="button" class="preset-btn" onclick="loadPreset('pop_culture')">üì∫ Pop Culture</button><button type="button" class="preset-btn" onclick="loadPreset('trolling')">üòà Trolling</button></div><textarea id="ssidList" placeholder="FBI Surveillance Van&#10;Free WiFi|https://example.com&#10;Starbucks Guest"></textarea><br><button type="button" onclick="saveSSIDs()">üíæ Save SSIDs</button></div><div class="card"><div class="section-title">Backup & Restore</div><p style="color: var(--text-secondary); margin: 0 0 10px 0; font-size: 0.9rem;">Export or import all settings including SSIDs.</p><button type="button" onclick="exportConfig()">üì§ Export Config</button><button type="button" onclick="document.getElementById('importFile').click()">üì• Import Config</button><input type="file" id="importFile" accept=".json" style="display:none" onchange="importConfig(event)"></div><div class="card"><div class="section-title">Custom Content Editor</div><p style="color: var(--text-secondary); margin: 0 0 10px 0; font-size: 0.9rem;"> Enter your custom HTML content (text, images, ads) to be shown inside the portal. <br>The <strong>Connect Button</strong> and Footer are added automatically. </p><label><input type="checkbox" id="useCustomPortal"> Enable Custom Content</label><div class="hint">If disabled, the default logo and features list will be shown.</div><textarea id="portalHtml" placeholder="<h1>Special Offer!</h1><p>Free WiFi for you...</p>" style="height: 200px; font-family: monospace; font-size: 0.8rem;"></textarea><label style="margin-top:15px;display:block;">Main portal raw HTML code</label><div style="border: 2px dashed var(--border); border-radius: 8px; background: #fff; height: 700px; overflow: hidden; margin-bottom: 10px;"><iframe id="previewFrame" sandbox="allow-scripts allow-same-origin" style="width: 100%; height: 100%; border: none;"></iframe></div><div style="margin-top: 10px;"><button type="button" onclick="loadDefaultPortalHTML()">üìÑ Load Default</button><button type="button" onclick="savePortalHTML()">üíæ Save HTML</button><button type="button" onclick="resetPortalHTML()" class="danger" style="margin-left: 10px;">üóëÔ∏è Reset to Default</button></div><div class="hint" style="margin-top: 10px;">üí° After saving, toggle "Use Custom Portal" and save settings for changes to take effect.</div></div><div class="card"><div class="section-title">Admin Credentials</div><p style="color: var(--text-secondary); margin: 0 0 10px 0; font-size: 0.9rem;">Change the login for this admin panel.</p><label>Username</label><input type="text" id="adminUser" placeholder="admin"><label>Password</label><input type="password" id="adminPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"><br><button type="button" onclick="saveCredentials()">üîê Update Credentials</button></div><div class="card"><div class="section-title">System</div><button class="danger" onclick="reboot()">üîÑ Reboot ESP</button></div><footer><strong>ESP Beacon Spam</strong><br> Made with ‚ù§Ô∏è by <a href="https://github.com/John-Varghese-EH" target="_blank">John-Varghese-EH</a></footer><script>const presets = { funny: [ "FBI Surveillance Van #42", "Definitely Not a Virus", "Pretty Fly for a WiFi", "Mom Use This One", "No Free WiFi Here", "Get Your Own WiFi", "Nacho WiFi", "The LAN Before Time", "It Burns When IP", "Drop It Like Its Hotspot", "Silence of the LANs", "LAN of Milk and Honey", "John Wilkes Bluetooth", "Abraham Linksys", "Benjamin FrankLAN", "Martin Router King", "LAN Solo", "House LANister", "Winternet Is Coming", "The Promised LAN" ], scary: [ "Virus Distribution Center", "FBI Surveillance Van", "NSA Listening Post", "POLICE_STAKEOUT_VAN", "DEA Surveillance #4128", "CIA Black Site", "Hack Me If You Can", "MALWARE_INJECTION_POINT", "Your Data Is Ours", "We Can See You", "Identity Theft Network", "Credit Card Collector", "Keylogger Active", "Trojan Downloader", "Ransomware Node 7", "Dark Web Access Point" ], memes: [ "Hide Yo Kids Hide Yo WiFi", "Yell POTATO for Password", "Loading...", "Error 404 WiFi Not Found", "WiFi Name Here", "Tell My WiFi Love Her", "Bill Wi the Science Fi", "Martin Router King Jr", "The Password Is Password", "8Hz WAN IP", "Ermahgerd Werfer", "Doge Network Much Secure", "Never Gonna Give You Up", "This Is Fine Network", "Surprised Pikachu WiFi", "One Does Not Simply WiFi" ], pop_culture: [ "Hogwarts WiFi", "Stark Industries Guest", "Wayne Manor Network", "Batcave Secure", "The Upside Down WiFi", "Wakanda Forever Net", "Avengers Tower Guest", "Daily Planet WiFi", "Los Pollos Hermanos", "Dunder Mifflin WiFi", "Paddy's Pub Free WiFi", "Central Perk Network", "Pawnee Parks Dept", "Schrute Farms B&B" ], trolling: [ "Connecting...", "Searching...", "Free WiFi (Slow)", "WiFi Password: password", "Shout PASSWORD for WiFi", "Click Here for Free WiFi", "This Network Is Cursed", "You Shall Not Pass", "Lag Generator 3000", "Buffering Forever", "1 Bar of Signal", "Disconnecting Soon", "Try Another Network", "Not The WiFi You Want" ] }; const randomWords = { adjectives: ['Free', 'Fast', 'Secure', 'Premium', 'Super', 'Ultra', 'Mega', 'Turbo', 'Pro', 'VIP', 'Best', 'New'], nouns: ['WiFi', 'Internet', 'Network', 'Hotspot', 'Connection', 'Access', 'Link', 'Signal'], places: ['Cafe', 'Hotel', 'Airport', 'Library', 'Office', 'Guest', 'Public', 'Home', 'Shop', 'Mall'], suffixes: ['5G', 'Plus', 'Max', 'Lite', 'Go', 'Now', '2.4GHz', '5GHz', 'Fast', 'Secure'] }; function generateRandomSSIDs() { const ssids = []; for (let i = 0; i < 25; i++) { const type = Math.floor(Math.random() * 4); let ssid; if (type === 0) { ssid = randomWords.adjectives[Math.floor(Math.random() * randomWords.adjectives.length)] + ' ' + randomWords.nouns[Math.floor(Math.random() * randomWords.nouns.length)]; } else if (type === 1) { ssid = randomWords.places[Math.floor(Math.random() * randomWords.places.length)] + ' ' + randomWords.nouns[Math.floor(Math.random() * randomWords.nouns.length)]; } else if (type === 2) { ssid = randomWords.nouns[Math.floor(Math.random() * randomWords.nouns.length)] + ' ' + randomWords.suffixes[Math.floor(Math.random() * randomWords.suffixes.length)]; } else { ssid = randomWords.adjectives[Math.floor(Math.random() * randomWords.adjectives.length)] + ' ' + randomWords.places[Math.floor(Math.random() * randomWords.places.length)] + ' WiFi'; } if (Math.random() > 0.6) ssid += ' ' + Math.floor(Math.random() * 100); ssids.push(ssid); } document.getElementById('ssidList').value = ssids.join('\n'); } function loadPreset(name) { if (presets[name]) { document.getElementById('ssidList').value = presets[name].join('\n'); } } function toggleTheme() { const body = document.body; const isDark = body.classList.toggle('light-mode'); localStorage.setItem('theme', isDark ? 'light' : 'dark'); document.getElementById('themeBtn').innerText = isDark ? 'üåô Dark Mode' : '‚òÄÔ∏è Light Mode'; } function applySavedTheme() { const saved = localStorage.getItem('theme'); if (saved === 'light') { document.body.classList.add('light-mode'); document.getElementById('themeBtn').innerText = 'üåô Dark Mode'; } } function applySavedTheme() { const saved = localStorage.getItem('theme'); if (saved === 'light') { document.body.classList.add('light-mode'); document.getElementById('themeBtn').innerText = 'üåô Dark Mode'; } } function toggleRedirectInputs() { const isDisabled = document.getElementById('disableButton').checked; const urlInput = document.getElementById('redirectUrl'); const delayInput = document.getElementById('autoRedirectDelay'); urlInput.disabled = isDisabled; delayInput.disabled = isDisabled; urlInput.style.opacity = isDisabled ? '0.5' : '1'; delayInput.style.opacity = isDisabled ? '0.5' : '1'; } function loadData() { fetch('/api/data') .then(res => res.json()) .then(data => { document.getElementById('ssidCount').innerText = data.ssidCount; document.getElementById('uptime').innerText = data.uptime; if (data.freeHeap) { document.getElementById('freeHeap').innerText = Math.round(data.freeHeap / 1024) + 'KB'; } document.getElementById('clientCount').innerText = data.clientCount; document.getElementById('wpa2').checked = data.wpa2; document.getElementById('appendSpaces').checked = data.appendSpaces; document.getElementById('enableBLE').checked = data.enableBLE; document.getElementById('beaconInterval').value = data.beaconInterval; document.getElementById('ssidList').value = data.ssids; document.getElementById('redirectUrl').value = data.redirectUrl || ''; document.getElementById('advertisingHeadline').value = data.advertisingHeadline || ''; document.getElementById('advertisingDescription').value = data.advertisingDescription || ''; document.getElementById('buttonText').value = data.buttonText || 'Connect'; document.getElementById('disableButton').checked = data.disableButton || false; document.getElementById('autoRedirectDelay').value = data.autoRedirectDelay || 0; document.getElementById('apName').value = data.apName || 'Free WiFi'; document.getElementById('hideAP').checked = data.hideAP || false; document.getElementById('wifiChannel').value = data.wifiChannel || 1; document.getElementById('randomizeMAC').checked = data.randomizeMAC || false; document.getElementById('useCustomPortal').checked = data.useCustomPortal || false; document.getElementById('adminUser').value = data.adminUser || 'admin'; document.getElementById('adminPass').value = ''; toggleRedirectInputs(); }) .catch(err => console.error('Error loading data:', err)); refreshClients(); loadPortalHTML(); } function refreshClients() { fetch('/api/clients') .then(res => res.json()) .then(data => { const el = document.getElementById('clientsList'); if (data.clients && data.clients.length > 0) { let html = '<table style="width:100%;border-collapse:collapse;">'; html += '<tr><th style="text-align:left;">MAC Address</th><th style="text-align:left;">IP Address</th></tr>'; data.clients.forEach(c => { html += `<tr><td>${c.mac}</td><td>${c.ip}</td></tr>`; }); html += '</table>'; el.innerHTML = html; } else { el.innerHTML = '<p style="color:var(--text-secondary);">No clients connected</p>'; } document.getElementById('clientCount').innerText = data.total || 0; }) .catch(err => { document.getElementById('clientsList').innerHTML = '<p style="color:#f85149;">Error loading clients</p>'; }); } function saveConfig() { const data = { wpa2: document.getElementById('wpa2').checked, appendSpaces: document.getElementById('appendSpaces').checked, enableBLE: document.getElementById('enableBLE').checked, beaconInterval: parseInt(document.getElementById('beaconInterval').value), redirectUrl: document.getElementById('redirectUrl').value, advertisingHeadline: document.getElementById('advertisingHeadline').value, advertisingDescription: document.getElementById('advertisingDescription').value, buttonText: document.getElementById('buttonText').value, disableButton: document.getElementById('disableButton').checked, autoRedirectDelay: parseInt(document.getElementById('autoRedirectDelay').value), apName: document.getElementById('apName').value, hideAP: document.getElementById('hideAP').checked, wifiChannel: parseInt(document.getElementById('wifiChannel').value), randomizeMAC: document.getElementById('randomizeMAC').checked, useCustomPortal: document.getElementById('useCustomPortal').checked }; const formData = new FormData(); formData.append('data', JSON.stringify(data)); fetch('/api/save_config', { method: 'POST', body: formData }) .then(res => res.text()) .then(txt => { alert(txt); loadData(); }) .catch(err => alert('Error saving config: ' + err)); } function saveCredentials() { const user = document.getElementById('adminUser').value; const pass = document.getElementById('adminPass').value; if (!user || !pass) { alert('Please enter both username and password'); return; } const data = { adminUser: user, adminPass: pass }; const formData = new FormData(); formData.append('data', JSON.stringify(data)); fetch('/api/save_config', { method: 'POST', body: formData }) .then(res => res.text()) .then(txt => { alert('Credentials updated! Please log in again.'); window.location.href = '/admin'; }) .catch(err => alert('Error saving credentials: ' + err)); } function saveSSIDs() { const ssids = document.getElementById('ssidList').value; const formData = new FormData(); formData.append('ssids', ssids); fetch('/api/save_ssids', { method: 'POST', body: formData }) .then(res => res.text()) .then(txt => { alert(txt); loadData(); }) .catch(err => alert('Error saving SSIDs: ' + err)); } function exportConfig() { window.location.href = '/api/export'; } function importConfig(event) { const file = event.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = function (e) { const formData = new FormData(); formData.append('data', e.target.result); fetch('/api/import', { method: 'POST', body: formData }) .then(res => res.text()) .then(txt => { alert(txt); loadData(); }) .catch(err => alert('Error importing config: ' + err)); }; reader.readAsText(file); event.target.value = ''; } function reboot() { if (confirm('Reboot the device?')) { fetch('/api/reboot', { method: 'POST' }); alert('Rebooting... Please wait a few seconds.'); } } document.addEventListener('DOMContentLoaded', function () { applySavedTheme(); loadData(); }); function loadPortalHTML() { fetch('/api/portal_html') .then(res => res.text()) .then(html => { const el = document.getElementById('portalHtml'); el.value = html; updatePreview(html); }) .catch(err => console.error('Error loading portal HTML:', err)); } function updatePreview(html) { const frame = document.getElementById('previewFrame'); frame.srcdoc = html || '<h3>Preview Area</h3><p>Type above to see changes...</p>'; } document.getElementById('portalHtml').addEventListener('input', function (e) { updatePreview(e.target.value); }); document.getElementById('disableButton').addEventListener('change', toggleRedirectInputs); function loadDefaultPortalHTML() { const sample = '<div class="logo">‚ö°</div>\n' + '<h1>Your Custom Ad Here</h1>\n' + '<p class="desc">This is a sample layout. You can add images, text, or anything else here!</p>\n' + '<div class="f">\n' + ' <div><span>üî•</span> Great Deal 1</div>\n' + ' <div><span>‚≠ê</span> Great Deal 2</div>\n' + '</div>'; document.getElementById('portalHtml').value = sample; } function savePortalHTML() { const html = document.getElementById('portalHtml').value; if (html.length > 8192) { alert('HTML is too large! Max 8KB.'); return; } const formData = new FormData(); formData.append('html', html); fetch('/api/save_portal_html', { method: 'POST', body: formData }) .then(res => res.text()) .then(txt => alert(txt)) .catch(err => alert('Error saving portal HTML: ' + err)); } function resetPortalHTML() { if (!confirm('Reset to default portal HTML? Your custom HTML will be deleted.')) { return; } fetch('/api/reset_portal_html', { method: 'POST' }) .then(res => res.text()) .then(txt => { alert(txt); loadPortalHTML(); }) .catch(err => alert('Error resetting portal HTML: ' + err)); }</script></body></html>)rawliteral";
const char portal_html[] PROGMEM = R"rawliteral(<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>ESP Beacon Spam</title><style> :root { --bg: #000; --card: #161b22; --border: #30363d; --text: #c9d1d9; --dim: #8b949e; --accent: #58a6ff; --btn: linear-gradient(135deg, #238636, #2ea043) } * { box-sizing: border-box; margin: 0; padding: 0 } body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: var(--text); height: 100vh; width: 100vw; overflow: hidden; display: flex; flex-direction: column } iframe { border: none; width: 100%; flex: 1; background: #fff } .foot-bar { background: var(--card); border-top: 1px solid var(--border); padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 99 } .btn { display: block; width: 100%; max-width: 400px; padding: 14px 20px; background: var(--btn); color: #fff; border-radius: 10px; font-weight: 600; font-size: 1rem; border: none; cursor: pointer; text-decoration: none; text-align: center; transition: transform .2s, box-shadow .2s } .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(35, 134, 54, .4) } .attr { margin-top: 8px; font-size: 10px; color: var(--dim) } .attr a { color: var(--dim); text-decoration: none } </style></head><body><iframe src="/content" title="Portal Content"></iframe><div class="foot-bar" id="fb"><a href="#" class="btn" id="btn" onclick="connect('https://github.com/John-Varghese-EH/ESP8266-BeaconSpamAds')">Connect</a><div class="attr">Made with ‚ù§Ô∏è by <a href="https://github.com/John-Varghese-EH">John-Varghese-EH</a></div></div><script> function copyToClipboard(text) { if (navigator.clipboard) { navigator.clipboard.writeText(text).catch(function (err) { fallbackCopyTextToClipboard(text); }); } else { fallbackCopyTextToClipboard(text); } } function fallbackCopyTextToClipboard(text) { var textArea = document.createElement("textarea"); textArea.value = text; textArea.style.top = "0"; textArea.style.left = "0"; textArea.style.position = "fixed"; document.body.appendChild(textArea); textArea.focus(); textArea.select(); try { document.execCommand('copy'); } catch (err) { } document.body.removeChild(textArea); } function connect(url) { copyToClipboard(url); fetch('/disconnect').catch(e => { }); document.getElementById('btn').innerText = 'Opening...'; setTimeout(function () { window.location.href = url; }, 500); } // Fetch dynamic config fetch('/api/public_data').then(r => r.json()).then(d => { // Button Text if (d.buttonText && d.buttonText !== "0") { document.getElementById('btn').textContent = d.buttonText; } else { // If buttonText is 0 or empty, we generally hide the footer, // but this static file just mimics the layout. } // Redirect URL if (d.redirectUrl) { document.getElementById('btn').onclick = function () { connect(d.redirectUrl); }; } }).catch(() => { }); </script></body></html>)rawliteral";
